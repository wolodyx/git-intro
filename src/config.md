# Подготовка к работе


## Установка Git

<!-- Проверка и установка Git -->
Для прохождения лекций нам понадобится рабочая машина с установленной системой `Git`.
Точкой входа в утилиту служит утилита командной строки `git`.
Проверим ее присутствие в ОС.
Запустите текстовый терминал (`bash` в Linux или `cmd` в Windows) и выполните в нем команду
``` bash
git --version
```
Если программа доступна в системе, то на экране терминала отобразится сообщение о версии, иначе об отсутствии команды.
Для прохождения лекции необходима `Git` версии не ниже `2.23`, начиная с которой доступна команда `git restore`.
На февраль 2023 года на [официальном сайте](https://git-scm.org) доступна версия `2.39.2`.

<!-- Установка Git в Ubuntu и Windows -->
В Ubuntu программы установим через менеджер пакетов `APT`.
Дополнительно к утилитам командной строки, также установим `gitk` -- простой графический интерфейс к `Git`.
``` bash
sudo apt-get --assume-yes install git gitk
```

Для Windows доступна специальная сборка [gitforwindows](https://gitforwindows.org/).
Она содержит в себе портированную в Windows интерпретатор `bash`, интеграцию с рабочим столом и простой графический интерфейс.

<!-- https://github.com/jesseduffield/lazygit -->


## Вызов команд

Точкой входа в систему Git является утилита командной строки `git`.
Система состоит из команд, вызываемых в формате
``` bash
git <команда> [<аргументы> ...]
```
В данном уроке будут изучены команды `help`, `config`, `clone`, `init`, `commit`, `add`, `status`, `rm`, `mv`, `restore`, `diff`, `log`, `pull`, `push`.
Те команды, для выполнения действий которым нужно хранилище, должны быть вызваны внутри рабочего каталога (не обязательно в его корне, можно и внутри вложенных).
В противном случае на экране терминала отобразится сообщение об ошибке
``` text
fatal: не найден git репозиторий (или один из родительских каталогов): .git
```


## Справочная информация

Команда `git help <команда>` отображает на экране подробную справочную информацию о команде, переданной в качестве аргумента.
Так как текст не помещается полностью на экране, он будет перенаправлен в пейджер `less`.
Чтобы вернуть доступ к командной строке, следует закрыть пейджер командой `q`.


## Изменение настроек

Перед использованием Git ее следует настроить, т.е. проинформировать систему о пользователе -- его имени и адреса электронной почты.
За настройку отвечает команда `git config`:

``` bash
git config --global user.name "Иванов Иван"
git config --global user.email "mail@example.com"
```

Дополнительно, для удобства, задают текстовый редактор для ввода многострочных сообщений, например для команды `git commit`.
В Windows популярностью пользуется Notepad++, а в Ubuntu стоит выбор между `nano`, `vim` и `emacs`.
``` bash
git config --global core.editor "'C:/Program Files/Notepad++/notepad++.exe' -multiInst -notabbar -nosession -noPlugin"
```

<!-- Уровни настроек -->
Заданные выше настройки -- это данные пользователя и его предпочитаемый редактор.
Поэтому команда использует опцию `--global`, которая указывает, что настройки глобальны, т.е. применяются ко всем хранилищам пользователя.
В противоположность к глобальным настройкам существуют локальные (`--local`, по умолчанию) -- применимые к конкретному хранилищу и системные (`--system`) -- влияющие на всех пользователей машины.

```{figure} images/ConfigLevels.png
```

Одна и та же опция может быть задана на нескольких уровнях.
Поэтому глобальные настройки переопределяют системные, а локальные -- глобальные и системные.

<!-- Просмотр настроек -->
Доступные для настроек переменные перечислены в секции `Variables` справочной страницы `git config`.
Команда `git config --list` покажет те из них, значения которых не совпадают с умолчательными.
Чтобы увидеть конкретную переменную, например, `user.name`, передайте ее в аргумент команды: `git config user.name`.


## Контрольные вопросы

1. Какие уровни настроек Git вам известны?


## Упражнения

1. Узнайте версию установленной программы Git.

