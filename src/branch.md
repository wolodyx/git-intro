# Работа с ветками


## Введение

<!-- Про ветку и историю изменений -->

Когда возникают ветвления:
* многозадачность разработчика в рамках одного проекта;
* результат объединения изменений от нескольких разработчиков;
* поддержка старой версии программы.


## Типы веток

*Основная ветка*.
Ветка, последнее состояние которой используется для новых изменений, и та, в которой собираются изменения от других участников проекта, называется основной (стволовой, главной).
От ревизий основной ветки требуется быть компилируемыми и успешно протестированными.
На это есть как минимум две причины.
Если разработчику попадается ревизия с нерабочей программой, то его работа встанет до момента исправления ошибки другим участником.
Если ошибку в основной ветке не исправить сразу, то это повлияет на работу всей команды.

Вторая причина, которая требует быть всем ревизиям основной ветки рабочей, это возможность применить метод "половинного деления" для поиска причины ошибки.
Чем больше объем кода, тем сложнее бывает найти причину ошибки.
Если ошибка ранее не было в программе, а появилась позже.
Методом можно воспользоваться если из ревизии основной ветки собирается и запускается программа.

*Функциональная ветка*.
Если задача объемная и не может быть решена одним коммитом и есть вероятность сломать программу, то под решение задачи создается отдельная ветка, называемая функциональной.
Требования к ревизиям в ней менее строгие, чем в основной.
Хороший разработчик будет фиксировать только компилируемые изменения, но от полного тестирования программы обычно временно отказываются, перенеся его на позднее время.
Ошибки в программе стабилизируются последующими коммитами.
После того, как задача решается в функциональной ветке и изменения будут протестированы, их перенесут в основну ветку одним коммитом.

*Релизная ветка*.
Слово "release" переводится с английского как "выпускать на волю".
Релиз -- это финальная ревизия программы, которая подготавливается или готова для передачи пользователю.
В отличие от основной версии программы в релизной только исправляются ошибки.
Изменения, добавляющие новую функцию или изменяют структуры программы не происходят.
Для поддержки релиза создают отдельный вариант проекта в виде релизной ветки.
Из релизной ветки в основную забираются изменения, связанные с исправлением ошибок, но сама ветка остается с системе для поддержки пользователей старой версии программы.

